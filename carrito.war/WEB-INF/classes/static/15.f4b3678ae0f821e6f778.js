"use strict";(self.webpackChunkpruebas=self.webpackChunkpruebas||[]).push([[15],{15:(A,p,e)=>{e.r(p),e.d(p,{LoginModule:()=>z});var x=e(8583),c=e(4655),i=e(3679),d=e(2340),f=e(5508),o=e(7716),g=e(1841);let h=(()=>{class n{constructor(t){this.http=t}login(t,r){let s=`grant_type=password&username=${encodeURIComponent(t)}&password=${encodeURIComponent(r)}`;return this.http.post(`${d.N.host}/oauth/token`,s,{headers:(new g.WM).set("Content-Type","application/x-www-form-urlencoded; charset=UTF-8").set("Authorization","Basic "+btoa(d.N.tokenClientId+":"+d.N.tokenClientSecret))})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(g.eN))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=e(4073),b=e(568),C=e(1384),l=e(8295),m=e(9983),u=e(6627),M=e(2622);const Z=[{path:"",component:(()=>{class n{constructor(t,r,s,T,U){this.fb=t,this.loginService=r,this.router=s,this.logicaGuardNav=T,this.navService=U}ngOnInit(){this.initForm(),this.validar()}initForm(){this.form=this.fb.group({usuario:new i.NI("",i.kI.required),clave:new i.NI("",i.kI.required)})}onLoginClick(){this.loginService.login(this.form.get("usuario").value,this.form.get("clave").value).subscribe(t=>{sessionStorage.setItem(d.N.tokenName,t.access_token),console.log(t),localStorage.setItem("usuario",this.form.get("usuario").value),this.router.navigateByUrl("home"),this.pagina()},t=>{console.log(t),500==t.status?console.log("error"):console.log("credenciales incorrectas")})}validar(){null!=sessionStorage.getItem(d.N.tokenName)&&this.router.navigateByUrl("/home")}pagina(){this.navService.navAdmin.emit(this.logicaGuardNav.permisosNav([f.r.administrador])),this.navService.navLogin.emit(this.sesion)}move(t){this.router.navigateByUrl(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(i.qu),o.Y36(h),o.Y36(c.F0),o.Y36(v.m),o.Y36(b.t))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:31,vars:2,consts:[["id","contenedor"],["id","contenedorcentrado"],["id","login"],[3,"formGroup"],["matInput","","formControlName","usuario","maxlength","100","placeholder","Usuario"],["message",""],["matInput","","formControlName","clave","maxlength","100","placeholder","Contrase\xf1a","type","password"],[3,"disabled","click"],["id","derecho"],[1,"titulo"],[1,"pie-form"],[3,"click"]],template:function(t,r){1&t&&(o._UZ(0,"app-header"),o.TgZ(1,"div",0),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"form",3),o._UZ(5,"br"),o.TgZ(6,"div"),o.TgZ(7,"mat-form-field"),o.TgZ(8,"mat-label"),o._uU(9,"Usuario"),o.qZA(),o._UZ(10,"input",4,5),o.qZA(),o.TgZ(12,"mat-form-field"),o.TgZ(13,"mat-label"),o._uU(14,"Contrase\xf1a"),o.qZA(),o._UZ(15,"input",6,5),o.qZA(),o.TgZ(17,"button",7),o.NdJ("click",function(){return r.onLoginClick()}),o.TgZ(18,"mat-icon"),o._uU(19,"send"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",8),o.TgZ(21,"div",9),o._uU(22," Bienvenido "),o.qZA(),o._UZ(23,"hr"),o.TgZ(24,"div",10),o.TgZ(25,"a",11),o.NdJ("click",function(){return r.move("persona-admin")}),o._uU(26,"\xbfNo tienes Cuenta? Registrate"),o.qZA(),o._UZ(27,"hr"),o.TgZ(28,"a",11),o.NdJ("click",function(){return r.move("home")}),o._uU(29,"\xab Volver"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(30,"app-footer")),2&t&&(o.xp6(4),o.Q6J("formGroup",r.form),o.xp6(13),o.Q6J("disabled",!r.form.valid))},directives:[C.G,i._Y,i.JL,i.sg,l.KE,l.hX,m.Nt,i.Fj,i.JJ,i.u,i.nD,u.Hw,M.c],styles:['body[_ngcontent-%COMP%]{font-family:"Overpass",sans-serif;font-weight:normal;font-size:100%;color:#1b262c;margin:0;background-color:#5f6769}#contenedor[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0;padding:0;min-width:100vw;min-height:100vh;width:100%;height:100%;background-position:center;background-size:cover}#contenedorcentrado[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:row;min-width:380px;max-width:900px;width:90%;background:linear-gradient(to right,#e99c2e,#b65c02);border-radius:10px;-moz-border-radius:10px 10px 10px 10px;-webkit-border-radius:10px 10px 10px 10px;box-shadow:0 0 5px 5px #00000026;padding:30px;box-sizing:border-box}#login[_ngcontent-%COMP%]{width:100%;max-width:320px;min-width:320px;padding:30px 30px 50px;background-color:#fff;box-shadow:0 0 5px 5px #00000026;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;box-sizing:border-box;opacity:1;filter:alpha(opacity=1)}#login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-family:"Overpass",sans-serif;font-size:120%;color:#3c4245;margin-top:15px}#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Overpass",sans-serif;font-size:110%;color:#1b262c;display:block;width:100%;height:40px;margin-bottom:10px;padding:5px 5px 5px 10px;box-sizing:border-box;border:none;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px}#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-family:"Overpass",sans-serif;color:#e4e4e4}#login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:"Overpass",sans-serif;font-size:110%;color:#1b262c;width:100%;height:40px;border:none;border-radius:3px;-moz-border-radius:3px 3px 3px 3px;-webkit-border-radius:3px 3px 3px 3px;background-color:#dfcdc3;margin-top:10px}#login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3c4245;color:#dfcdc3}#derecho[_ngcontent-%COMP%]{text-align:center;width:100%;opacity:.7;filter:alpha(opacity=70);padding:20px 20px 20px 50px;box-sizing:border-box}.titulo[_ngcontent-%COMP%]{font-size:300%;color:#fff}.logo-empresa[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}hr[_ngcontent-%COMP%]{border-top:1px solid #8c8b8b;border-bottom:1px solid #dfcdc3}.pie-form[_ngcontent-%COMP%]{font-size:90%;text-align:center;margin-top:15px}.pie-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#fff;margin-bottom:3px}.pie-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#719192}@media all and (max-width: 775px){#contenedorcentrado[_ngcontent-%COMP%]{flex-direction:column-reverse;min-width:380px;max-width:900px;width:90%;background-color:#5f6769;border-radius:10px;-moz-border-radius:10px 10px 10px 10px;-webkit-border-radius:10px 10px 10px 10px;box-shadow:0 0 5px 5px #00000026;padding:30px;box-sizing:border-box}#login[_ngcontent-%COMP%]{margin:0 auto}#derecho[_ngcontent-%COMP%]{padding:20px}#login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:left}}']}),n})()}];let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[c.Bz.forChild(Z)],c.Bz]}),n})();var y=e(3356),P=e(1095),w=e(8431),L=e(5060);let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[x.ez,O,m.c,l.lN,P.ot,y.o9,i.UX,u.Ps,w.FooterModule,L.HeaderModule]]}),n})()}}]);